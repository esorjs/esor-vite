(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();const yt=`.card {
  padding: 2em;
}
button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}
`;var se=Object.defineProperty,ae=e=>{throw TypeError(e)},Et=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a=(e,t)=>se(e,"name",{value:t,configurable:!0}),St=(e,t,n)=>Et(e,t+"",n),ue=(e,t,n)=>t.has(e)||ae("Cannot "+n),y=(e,t,n)=>(ue(e,t,"read from private field"),n?n.call(e):t.get(e)),le=(e,t,n)=>t.has(e)?ae("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Nt=(e,t,n)=>(ue(e,t,"access private method"),n),b,B,ce,j=class fe{constructor(){le(this,B),le(this,b,new Map),fe.current=this}add(t,n){return Nt(this,B,ce).call(this,t).add(n),()=>{var r;return(r=y(this,b).get(t))==null?void 0:r.delete(n)}}run(t,n){let r=y(this,b).get(t);if(r!=null&&r.size)for(let o of r)try{o.call(n)}catch(l){(typeof n._catchError=="function"?n._catchError:console.error)("Error in lifecycle hook:",l)}}clear(t){t?y(this,b).delete(t):y(this,b).clear()}};b=new WeakMap,B=new WeakSet,ce=a(function(e){return y(this,b).has(e)||y(this,b).set(e,new Set),y(this,b).get(e)},"#hooks"),a(j,"Lifecycle"),St(j,"current");var de=j,wt=a(()=>de.current||(()=>{throw"Lifecycle not initialized"})(),"getLC");a(e=>{let t=e();return t instanceof Function&&wt().add("destroy",t)||(()=>{})},"onEffect");var O={currentComponent:null,globalEvents:{handlersByType:new Map}},E=O;function M(e,t){let n=O.currentComponent;O.currentComponent=e;try{return t()}finally{O.currentComponent=n}}a(M,"withCurrentComponent");var V={info:{color:"#0066cc",icon:"ℹ️"},warn:{color:"#FFA500",icon:"⚠️"},error:{color:"#FF0000",icon:"🚫"}},Q=a((e="info",t="",...n)=>{var o,l;V[e]||(e="info");let r=e.charAt(0).toUpperCase()+e.slice(1);console.groupCollapsed(`%c[ESOR ${V[e].icon}${r}] ${t}`,`color: ${V[e].color}; font-weight: bold;`),console[e]({message:t,component:((l=(o=E.currentComponent)==null?void 0:o.constructor)==null?void 0:l.name)||"Unknown",time:new Date().toISOString(),data:n.length?n:void 0}),console[e==="error"?"trace":"debug"](),console.groupEnd()},"log");a((...e)=>Q("info",...e),"info");a((...e)=>Q("warn",...e),"warn");var $=a((...e)=>Q("error",...e),"error"),w=new Map,Tt=1;function pe(e,t){if(!e||typeof t!="function")return $("Invalid event registration parameters"),-1;w.has(e)||w.set(e,new Map);let n=Tt++;return w.get(e).set(n,t),n}a(pe,"registerEvent");function ge(e,t){var n;return(n=w.get(e))==null?void 0:n.get(t)}a(ge,"getEventHandler");function he(e,t){let n=w.get(e);n&&(n.delete(t),n.size===0&&w.delete(e))}a(he,"clearEventHandler");function xt(e,t){let n=E.currentComponent;if(!n)return $("useEmit must be used within a component"),null;let r=new CustomEvent(e,{detail:t,bubbles:!0,composed:!0,cancelable:!0});return r.__esor={name:e,detail:t,receivedBy:[],timestamp:Date.now()},n.dispatchEvent(r),r}a(xt,"useEmit");var me=a(e=>e==null?"":e.toString().replace(/[&<>'"]/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","/":"&#x2F;"})[t]),"escapeHTML");function ve(e){return e==null?"":String(e).replace(/^["']|["']$/g,"").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}a(ve,"cleanAttributeValue");var be="$:",N="data_esor_event",ye="data_esor_bind",Ee="data_esor_ref",_t=new RegExp(/\s(\w[\w-]*)=(["'])?(?:(?!\2).)*$/),Se=new RegExp(/ref=(["'])?\s*$/),Ne=new RegExp(/(@\w+)=(["'])?\s*$/),At=new RegExp(/["']\s*$/),$t=new RegExp(/^(script|style|textarea|title)$/i);function Y(e,t,n,r){let o=e&&e.charAt(e.length-1)==='"'?'"':"'";return e.replace(t,`${n}=${o}${r}${o}`)}a(Y,"replaceAttribute");var Ct=a(e=>e.replace(At,""),"removeQuote"),kt=a(e=>{var t;return((t=e==null?void 0:e.template)==null?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE},"isTemplateObject");function we(e,t,n){let r=pe(t,e);return Y(n,Ne,`${N}-${t}`,r)}a(we,"injectEvent");function Te(e,t,n,r){return r.set(n,e),Y(t,Se,`${Ee}-${n}`,n)}a(Te,"injectRef");function xe(e,t,n,r,o){n=Ct(n);let l=n&&n.charAt(n.length-1)==='"'?'"':"'",s=typeof e=="function"?e():e,c=$t.test(t)?String(s):me(s),g=`${ye}-${r}`;return n+=`${l}${c}${l} ${g}=${l}true${l}`,o.set(r,{type:"attribute",signal:e,attributeName:t,bindAttr:g}),n}a(xe,"injectSignalAttr");function U(e,t,n,r,o){let l=`${be}${r}`;o.set(r,{type:t?"expression":"text",signal:e,bindAttr:l});let s=t?e():e;return`${n}<!--${l}-->${me(String(s))}<!--//${l}-->`}a(U,"injectExpr");function z(e,t,n,r,o,l){let s=`${be}${t}`,c={type:"array",signal:o?()=>(e.__signal()||[]).map(e.__mapFn||(i=>i)):typeof l=="function"?l:()=>e,bindAttr:s};n.set(t,c);let g=(Array.isArray(e)?e:[]).map(x).join("");return`${r}<!--${s}-->${g}<!--//${s}-->`}a(z,"injectArray");function _e(e){let t="";for(let n of e.childNodes)n.nodeType===Node.ELEMENT_NODE&&n.hasAttribute("key")&&(n.setAttribute("data-key",n.getAttribute("key")),n.removeAttribute("key")),t+=n.outerHTML||n.textContent;return t}a(_e,"processTemplateNodes");function x(e){return e==null||e===!1?"":Array.isArray(e)?e.reduce((t,n)=>t+x(n),""):e instanceof SVGElement?e.outerHTML:kt(e)?_e(e.template):(e==null?void 0:e.type)==="template-array"?e.templates.reduce((t,n)=>t+x(n),""):e.toString()}a(x,"processVal");function Ae(e,...t){let n="",r=new Map,o=new Map,l=0,s=0;for(let g=0;g<e.length;g++){if(n+=e[g],g>=t.length)continue;let i=t[g],u=e[g].match(_t),f=!!u,p=u==null?void 0:u[1],d=Se.exec(n),h=Ne.exec(n),v=d&&typeof i=="function",ie=h&&typeof i=="function",bt=ie?h[1].slice(1):null;v?n=Te(i,n,s++,o):ie?n=we(i,bt,n):(i!=null&&i.signal||typeof i=="function")&&f?n=xe(i,p,n,l++,r):Array.isArray(i)&&i.__signalArray===!0?n=z(i,l++,r,n,!0):i!=null&&i.signal?n=U(i,!1,n,l++,r):typeof i=="function"?n=U(i,!0,n,l++,r):Array.isArray(i)?n=z(i,l++,r,n,!1,i):i!=null&&(n+=x(i))}let c=document.createElement("template");return c.innerHTML=n.trim(),{template:c.content,signals:r,refs:o}}a(Ae,"processTemplate");function $e(e,...t){return Ae(e,...t)}a($e,"html");function Ft(e,t){return!Object.is(e,t)}a(Ft,"valuesChanged");var Ot=a(e=>{var t;return e instanceof DocumentFragment&&e||((t=e==null?void 0:e.content)==null?void 0:t.cloneNode())||document.createDocumentFragment()},"getDocumentFragment");function Ce(e,t){let n=e.nextSibling;for(;n&&n!==t;){let r=n.nextSibling;n.parentNode.removeChild(n),n=r}}a(Ce,"removeChildNodesBetween");var k=new WeakMap;function Z(e,t){if(k.has(e)){let s=k.get(e)[t];if(s)return s}let n=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT),r=null,o=null;for(;n.nextNode()&&!o;){let s=n.currentNode;!r&&s.nodeValue===t?r=s:r&&s.nodeValue===`//${t}`&&(o=s)}let l=[r,o];return k.set(e,{...k.get(e),[t]:l}),l}a(Z,"findCommentPlaceholders");function ke(e){let t=HTMLElement.prototype.hasOwnProperty("attachInternals")?e.attachInternals():null;t!=null&&t.shadowRoot?e.shadowRoot=t.shadowRoot:e.attachShadow({mode:"open"})}a(ke,"setupDeclarativeShadowRoot");function Fe(e,t=[Ee,N,ye]){let n={},r=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode(l){if(l.hasAttributes()){for(let{name:s}of l.attributes)if(t.some(c=>s.startsWith(c)))return NodeFilter.FILTER_ACCEPT}return NodeFilter.FILTER_SKIP}}),o;for(;o=r.nextNode();)for(let l of o.attributes){let s=t.find(c=>l.name.startsWith(c));s&&(n[s]||(n[s]=[]),n[s].push(l))}return Object.keys(n).length?n:null}a(Fe,"findAttributesWithEsorDirectives");var Dt=(e=>(e[e.Computed=1]="Computed",e[e.Effect=2]="Effect",e[e.Tracking=4]="Tracking",e[e.Notified=8]="Notified",e[e.Recursed=16]="Recursed",e[e.Dirty=32]="Dirty",e[e.PendingComputed=64]="PendingComputed",e[e.PendingEffect=128]="PendingEffect",e[e.Propagated=224]="Propagated",e))(Dt||{});function Oe({updateComputed:e,notifyEffect:t}){let n,r;return{link(i,u){let f=u.depsTail;if(f!==void 0&&f.dep===i)return;let p=f!==void 0?f.nextDep:u.deps;if(p!==void 0&&p.dep===i){u.depsTail=p;return}let d=i.subsTail;if(!(d!==void 0&&d.sub===u&&c(d,u)))return o(i,u,p,f)},propagate(i){let u=32,f=i,p=0;e:do{let d=i.sub,h=d.flags;if(!(h&244)&&(d.flags=h|u|8,!0)||h&16&&!(h&4)&&(d.flags=h&-17|u|8,!0)||!(h&224)&&c(i,d)&&(d.flags=h|16|u|8,d.subs!==void 0)){let v=d.subs;if(v!==void 0){v.nextSub!==void 0?(v.prevSub=f,i=f=v,u=64,++p):(i=v,u=h&2?128:64);continue}h&2&&(r!==void 0?r.depsTail.nextDep=d.deps:n=d,r=d)}else h&(4|u)?!(h&u)&&h&224&&c(i,d)&&(d.flags=h|u):(d.flags=h|u|8,(h&10)===2&&(r!==void 0?r.depsTail.nextDep=d.deps:n=d,r=d));if((i=f.nextSub)!==void 0){f=i,u=p?64:32;continue}for(;p;){--p;let v=f.dep.subs;if(f=v.prevSub,v.prevSub=void 0,(i=f.nextSub)!==void 0){f=i,u=p?64:32;continue e}}break}while(!0)},startTracking(i){i.depsTail=void 0,i.flags=i.flags&-249|4},endTracking(i){let u=i.depsTail;if(u!==void 0){let f=u.nextDep;f!==void 0&&(g(f),u.nextDep=void 0)}else i.deps!==void 0&&(g(i.deps),i.deps=void 0);i.flags&=-5},updateDirtyFlag(i,u){return l(i.deps)?(i.flags=u|32,!0):(i.flags=u&-65,!1)},processComputedUpdate(i,u){if((u&32||l(i.deps)||(i.flags=u&-65,!1))&&e(i)){let f=i.subs;f!==void 0&&s(f)}},processPendingInnerEffects(i,u){if(u&128){i.flags=u&-129;let f=i.deps;do{let p=f.dep;"flags"in p&&p.flags&2&&p.flags&224&&t(p),f=f.nextDep}while(f!==void 0)}},processEffectNotifications(){for(;n!==void 0;){let i=n,u=i.depsTail,f=u.nextDep;f!==void 0?(u.nextDep=void 0,n=f.sub):(n=void 0,r=void 0),t(i)||(i.flags&=-9)}}};function o(i,u,f,p){let d={dep:i,sub:u,nextDep:f,prevSub:void 0,nextSub:void 0};if(p===void 0?u.deps=d:p.nextDep=d,i.subs===void 0)i.subs=d;else{let h=i.subsTail;d.prevSub=h,h.nextSub=d}return u.depsTail=d,i.subsTail=d,d}function l(i){let u=0,f;e:do{f=!1;let p=i.dep;if("flags"in p){let d=p.flags;if((d&33)===33){if(e(p)){let h=p.subs;h.nextSub!==void 0&&s(h),f=!0}}else if((d&65)===65){let h=p.subs;h.nextSub!==void 0&&(h.prevSub=i),i=p.deps,++u;continue}}if(!f&&i.nextDep!==void 0){i=i.nextDep;continue}if(u){let d=i.sub;do{--u;let h=d.subs;if(f){if(e(d)){(i=h.prevSub)!==void 0?(h.prevSub=void 0,s(h),d=i.sub):d=h.sub;continue}}else d.flags&=-65;if((i=h.prevSub)!==void 0){if(h.prevSub=void 0,i.nextDep!==void 0){i=i.nextDep;continue e}d=i.sub}else{if((i=h.nextDep)!==void 0)continue e;d=h.sub}f=!1}while(u)}return f}while(!0)}function s(i){do{let u=i.sub,f=u.flags;(f&96)===64&&(u.flags=f|32|8,(f&10)===2&&(r!==void 0?r.depsTail.nextDep=u.deps:n=u,r=u)),i=i.nextSub}while(i!==void 0)}function c(i,u){let f=u.depsTail;if(f!==void 0){let p=u.deps;do{if(p===i)return!0;if(p===f)break;p=p.nextDep}while(p!==void 0)}return!1}function g(i){do{let u=i.dep,f=i.nextDep,p=i.nextSub,d=i.prevSub;if(p!==void 0?p.prevSub=d:u.subsTail=d,d!==void 0?d.nextSub=p:u.subs=p,u.subs===void 0&&"deps"in u){let h=u.flags;h&32||(u.flags=h|32);let v=u.deps;if(v!==void 0){i=v,u.depsTail.nextDep=f,u.deps=void 0,u.depsTail=void 0;continue}}i=f}while(i!==void 0)}}a(Oe,"createReactiveSystem");var{link:_,propagate:Mt,updateDirtyFlag:Rt,startTracking:R,endTracking:L,processEffectNotifications:De,processComputedUpdate:Lt,processPendingInnerEffects:Me}=Oe({updateComputed(e){let t=m;m=e,R(e);try{let n=e.currentValue,r=e.getter(n);return n!==r?(e.currentValue=r,!0):!1}finally{m=t,L(e)}},notifyEffect(e){return"isScope"in e?We(e):Ve(e)}}),Re=[],ee=0,m,S;function Le(){++ee}a(Le,"startBatch");function Ie(){--ee||De()}a(Ie,"endBatch");function It(){Re.push(m),m=void 0}a(It,"pauseTracking");function Pt(){m=Re.pop()}a(Pt,"resumeTracking");function q(e){return Be.bind({currentValue:e,subs:void 0,subsTail:void 0})}a(q,"signal");function Vt(e){return He.bind({currentValue:void 0,subs:void 0,subsTail:void 0,deps:void 0,depsTail:void 0,flags:33,getter:e})}a(Vt,"computed");function I(e){let t={fn:e,subs:void 0,subsTail:void 0,deps:void 0,depsTail:void 0,flags:2};return m!==void 0?_(t,m):S!==void 0&&_(t,S),te(t),ne.bind(t)}a(I,"effect");function Wt(e){let t={deps:void 0,depsTail:void 0,flags:2,isScope:!0};return Pe(t,e),ne.bind(t)}a(Wt,"effectScope");function te(e){let t=m;m=e,R(e);try{e.fn()}finally{m=t,L(e)}}a(te,"runEffect");function Pe(e,t){let n=S;S=e,R(e);try{t()}finally{S=n,L(e)}}a(Pe,"runEffectScope");function Ve(e){let t=e.flags;return t&32||t&64&&Rt(e,t)?te(e):Me(e,e.flags),!0}a(Ve,"notifyEffect");function We(e){return e.flags&128?(Me(e,e.flags),!0):!1}a(We,"notifyEffectScope");function He(){let e=this.flags;return e&96&&Lt(this,e),m!==void 0?_(this,m):S!==void 0&&_(this,S),this.currentValue}a(He,"computedGetter");function Be(...e){if(e.length){if(this.currentValue!==(this.currentValue=e[0])){let t=this.subs;t!==void 0&&(Mt(t),ee||De())}}else return m!==void 0&&_(this,m),this.currentValue}a(Be,"signalGetterSetter");function ne(){R(this),L(this)}a(ne,"effectStop");function D(e,t){return e&&e.__signalArray===!0?e:new Proxy(e,{get(n,r,o){let l=Reflect.get(n,r,o);return typeof l=="function"?function(...s){let c=l.apply(n,s);return Array.isArray(c)?(c.__signalArray=!0,c.__signal=t,s.length>0&&typeof s[0]=="function"&&(c.__mapFn=s[0]),D(c,t)):c}:l}})}a(D,"wrapArray");function C(e){if(Array.isArray(e)){let t=q(e),n=D(e,()=>t());return n.__signalArray=!0,a((...r)=>{if(r.length>0){let o=r[0];return t(o),n=D(o,()=>t()),n.__signalArray=!0,n}return n},"func")}return q(e)}a(C,"signal");function Ht(e){if(E.batchActive)return e();E.batchActive=!0,Le();try{return e()}finally{Ie(),E.batchActive=!1}}a(Ht,"batch");function je(e,t,n,r,o){n=[...n||[]],r=[...r||[]];let l=t.parentNode,s=Ue(e,t),c=Je(r,s,n);Xe(l,s,c,t),nt(o,e,t),e.__oldItems=[...r]}a(je,"reconcileArrays");function Ue(e,t){let n=[],r=e.nextSibling;for(;r&&r!==t;)n.push(r),r=r.nextSibling;return n}a(Ue,"collectNodes");function T(e){return e&&e.nodeType===Node.ELEMENT_NODE}a(T,"isValidDOMNode");function ze(e){return T(e)?e.getAttribute("data-key"):null}a(ze,"getNodeKey");function qe(e,t,n,r){var c,g;if(!e||!t||!(n!=null&&n.template)||!(r!=null&&r.template))return!1;((c=e.firstChild)==null?void 0:c.nodeType)===3&&e.normalize(),((g=t.firstChild)==null?void 0:g.nodeType)===3&&t.normalize();let o=J(e),l=J(t);if(o.length!==l.length)return!1;let s=!1;for(let i=0,u=o.length;i<u;i++){let f=o[i].textContent,p=l[i].textContent;f!==p&&(o[i].textContent=p,s=!0)}return s}a(qe,"updateNodeContent");function J(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),r;for(;r=n.nextNode();)t.push(r);return t}a(J,"getTextNodes");function Je(e,t,n){let r=new Map,o=new Map,l=[e.length];for(let s=0,c=t.length;s<c;s++){let g=ze(t[s]);g&&r.set(g,t[s])}for(let s=0,c=n.length;s<c;s++)o.set(G(n[s],s),n[s]);for(let s=0,c=e.length;s<c;s++)l[s]=G(e[s],s);return e.map((s,c)=>{let g=l[c],i=r.get(g),u=o.get(g);if((i==null?void 0:i.nodeType)===1){if(!u||Ke(u,s)){let f=X(s,g);return qe(i,f,u,s)?(Ge(i,f),i):f}return i}return X(s,g)})}a(Je,"createOrReuseNodes");function Ke(e,t){if(!e||!t)return!0;if(e!=null&&e.template&&(t!=null&&t.template)){let n=K(e),r=K(t);return!A(n,r)}return!A(e,t)}a(Ke,"hasChanged");function K(e){let t=e==null?void 0:e.template;if(!t)return null;let n=[],r=t.cloneNode(!0),o=document.createTreeWalker(r,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode(s){return s.nodeType===3?s.textContent.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),l;for(;l=o.nextNode();)if(l.nodeType===3)n.push(l.textContent);else{let s=l.attributes;for(let c=0,g=s.length;c<g;c++){let i=s[c].value;i.includes("${")&&(n[n.length]=i)}}return n}a(K,"extractDynamicValues");function A(e,t){if(e===t)return!0;if(!e||!t||typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((n,r)=>A(n,t[r]));if(typeof e=="object"){let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>A(e[o],t[o]))}return String(e)===String(t)}a(A,"areValuesEqual");function Ge(e,t){if(!T(e)||!T(t))return;let n=e.attributes;for(let r=n.length;r--;){let o=n[r];o.name.lastIndexOf(N,0)===0&&t.setAttribute(o.name,o.value)}}a(Ge,"copyEventAttributes");function G(e,t){if((e==null?void 0:e.key)!==void 0)return`key-${e.key}`;if(e!=null&&e.template){let n=e.template.firstElementChild;if(e.id)return`item-${e.id}`;if(n&&T(n)){let r=n.getAttribute("key");if(r)return r}return`template-${t}`}if(e&&typeof e=="object"){if(e.id)return`item-${e.id}`;try{return`item-${t}-${JSON.stringify(e)}`}catch{return`item-${t}`}}return`item-${t}-${String(e)}`}a(G,"getItemKey");function X(e,t){let n;return e!=null&&e.template?n=e.template.cloneNode(!0).firstElementChild||document.createElement("div"):(n=document.createElement("div"),n.textContent=String(e)),T(n)&&n.setAttribute("data-key",t),n}a(X,"createNode");a((e,t,n)=>{try{return e.moveBefore(t,n)}catch{return e.insertBefore(t,n)}},"moveBefore");function Xe(e,t,n,r){let o=0,l=t.length,s=0,c=n.length,g=l>0&&t[l-1].nextSibling||r,i=null;if(l===0){for(let u=0;u<c;u++)e.insertBefore(n[u],g);return}if(c===0){for(;o<l;){let u=t[o++];u instanceof Node&&e.removeChild(u)}return}for(;o<l||s<c;){if(t[o]===n[s]){o++,s++;continue}for(;t[l-1]===n[c-1];)l--,c--;if(o===l){let u=c<n.length?s?n[s-1].nextSibling:n[c-s]:g;for(;s<c;)e.insertBefore(n[s++],u)}else if(s===c)for(;o<l;)(!i||!i.has(t[o]))&&e.removeChild(t[o]),o++;else if(t[o]===n[c-1]&&n[s]===t[l-1]){let u=t[--l].nextSibling;e.insertBefore(n[s++],t[o++].nextSibling),e.insertBefore(n[--c],u),t[l]=n[c]}else{if(!i){i=new Map;for(let f=s;f<c;f++)i.set(n[f],f)}let u=i.get(t[o]);if(u==null)e.removeChild(t[o++]);else if(s<u&&u<c){let f=1;for(;o+f<l&&u+f<c&&t[o+f]===n[u+f];)f++;if(f>u-s){let p=t[o];for(;s<u;)e.insertBefore(n[s++],p)}else e.replaceChild(n[s++],t[o++])}else o++}}}a(Xe,"ddiff");function Qe(e,t){if(!(e!=null&&e.shadowRoot))throw new Error("Invalid instance or missing shadowRoot");let n=e.shadowRoot,r=new Map,o=new Set;for(let l of t){let s=l.name.replace(`${N}-`,"");s&&o.add(s)}for(let l of o){let s=a(c=>{let g=c.target,i=[];for(;g&&g!==n;)i.push(g),g=g.parentNode;for(let u of i){let f=u.getAttributeNode(`${N}-${l}`);if(!f)continue;let p=Number(f.value),d=ge(l,p);if(typeof d=="function"){M(e,()=>{d.call(e,c)===!1&&c.stopPropagation()});break}}},"handler");n.addEventListener(l,s,{passive:!1,capture:!0}),r.set(l,s)}e._eventHandlers=r}a(Qe,"setupEventDelegation");function Ye(e,t){if(!(!e||!t))for(let n of e){let r=n.ownerElement;if(!r)continue;let o=Number(n.value);r.removeAttribute(n.name);let l=t.get(o);typeof l=="function"&&l(r)}}a(Ye,"setupRefs");function P(e,t,n){let r=I(()=>{if(!e._isUpdating){e._isUpdating=!0;try{n(t())}finally{e._isUpdating=!1}}});e._cleanup.add(r)}a(P,"bindSignalToElement");function Ze(e,t){if(!(!t||t.size===0))for(let{type:n,signal:r,bindAttr:o,attributeName:l}of t.values())switch(n){case"attribute":et(e,r,o,l);break;case"array":tt(e,r,o);break;case"text":case"expression":ut({host:e,type:n,signal:r,bindAttr:o});break}}a(Ze,"setupSignals");function et(e,t,n,r){let o=e.shadowRoot.querySelector(`[${n}]`);o&&(o.removeAttribute(n),P(e,t,l=>{let s=String(l);o.getAttribute(r)!==s&&o.setAttribute(r,s)}))}a(et,"handleAttributeSignal");function tt(e,t,n){let[r,o]=Z(e.shadowRoot,n);!r||!o||P(e,t,l=>{let s=r.__oldItems||[],c=Array.isArray(l)?l:[];je(r,o,s,c,e)})}a(tt,"handleArraySignal");function nt(e,t,n){let{shadowRoot:r}=e,o=ot(r,t,n);rt(e,o)}a(nt,"bindEventsInRange");function rt(e,t){var n;for(let r of t)for(let o of Array.from(r.attributes)){if(!o.name.startsWith(`${N}`))continue;let l=o.name.replace(N,""),s=parseInt(o.value,10),c=(n=E.globalEvents.handlersByType.get(l))==null?void 0:n.get(s);typeof c=="function"&&(r.addEventListener(l,(...g)=>M(e,()=>c.call(e,...g))),r.removeAttribute(o.name))}}a(rt,"bindEvents");function ot(e,t,n){let r=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);if(!t&&!n){for(;o.nextNode();)r.push(o.currentNode);return r}let l=(t==null?void 0:t.nextSibling)||e.firstChild;if(!l)return r;o.currentNode=l;do{if(o.currentNode===n)break;r.push(o.currentNode)}while(o.nextNode());return r}a(ot,"getElementsInRange");var W=new Map;function it(e,t){let n=Ot(t);return W.has(e)||W.set(e,n.cloneNode(!0)),W.get(e).cloneNode(!0)}a(it,"cachedTemplate");var H=new WeakMap;function lt(e){if(H.has(e))return H.get(e);try{let t=e()??null;return H.set(e,t),t}catch{return null}}a(lt,"evalExpr");function st(e,t,n,r){let o=t.nextSibling;if(o&&o.nodeType===Node.TEXT_NODE)o.textContent=String(r);else{Ce(t,n);let l=document.createTextNode(String(r));n.parentNode.insertBefore(l,n)}}a(st,"renderEvaluated");function at(e,{signal:t,bindAttr:n,renderer:r}){let[o,l]=Z(e.shadowRoot,n);!o||!l||P(e,t,s=>{r(o,l,s)})}a(at,"bindPlaceholderSignal");function ut({host:e,type:t,signal:n,bindAttr:r}){at(e,{signal:n,bindAttr:r,renderer:a((o,l,s)=>{let c=t==="expression"?lt(()=>s):s;c!=null&&st(e,o,l,c)},"renderer")})}a(ut,"handleSignalBinding");var ct=a(e=>e&&!/^(data_esor_|@|ref|key$)/.test(e)&&/^[a-z][\w\-_:]*$/i.test(e),"specialAttr"),F;function ft(e){return F||(F=document.createElement("textarea")),F.innerHTML=e,F.value}a(ft,"decodeHTMLEntities");function re(e){if(typeof e!="string")return e;e.indexOf("&")!==-1&&(e=ft(e));let t=e.trim();if(!t)return t;let n=t.toLowerCase(),r={true:!0,false:!1,null:null,undefined:void 0,nan:NaN,infinity:1/0,"-infinity":-1/0};if(n in r)return r[n];let o=Number(t);if(!Number.isNaN(o))return o;try{return JSON.parse(t)}catch{return t}}a(re,"coerceAttrValue");function dt(e){for(let{name:t,value:n}of e.attributes){if(!ct(t))continue;let r=re(ve(n));e._props[t]=C(r)}}a(dt,"generateSpecialAttrSignals");function pt(e){let t=a(r=>{for(let{attributeName:o}of r){if(!ct(o))continue;let l=e._props[o];l&&l(re(e.getAttribute(o)))}},"handler"),n=new MutationObserver(t);n.observe(e,{attributes:!0}),e._cleanup.add(()=>n.disconnect())}a(pt,"observeAttrMutations");function gt(e){dt(e),pt(e)}a(gt,"initPropsAndObserve");function ht(e,t){let n=class extends HTMLElement{constructor(){super(),ke(this),this._initEsorComponent(this),this._render()}_initEsorComponent(l){Object.assign(l,{_cleanup:new Set,_isUpdating:!1,_props:{},_eventIds:[],lifecycle:new de}),E.currentComponent=l,gt(l),l.lifecycle.run("beforeMount",l)}connectedCallback(){this.lifecycle.run("mount",this)}disconnectedCallback(){this.lifecycle.run("destroy",this),this._cleanup.forEach(l=>l()),this._cleanup.clear(),this._eventIds.forEach(({type:l,id:s})=>he(l,s)),this._eventIds=[]}_render(){M(this,()=>{this.lifecycle.run("beforeUpdate",this);let l=t.call(this,this._props),{template:s,signals:c,refs:g}=typeof l=="function"?l():l||{};this.shadowRoot.hasChildNodes()||this.shadowRoot.appendChild(it(e,s));let i=Fe(this.shadowRoot);i&&i.data_esor_ref&&Ye(i.data_esor_ref,g),i&&i.data_esor_event&&Qe(this,i.data_esor_event),Ze(this,c),this.lifecycle.run("update",this)})}};a(n,"EsorComponent");let r=n;return customElements.define(e,r),r}a(ht,"component");function Bt(e=null){let t=e;return new Proxy(()=>{},{apply:a((n,r,o)=>o.length?t=o[0]:t,"apply"),get:a((n,r)=>t&&(t[r]===void 0?t:t[r]),"get"),set:a((n,r,o)=>!!t&&(t[r]=o,!0),"set")})}a(Bt,"ref");function jt(e,t=[]){let n=C(e());return I(()=>(n(e()),t)),n}a(jt,"memo");var oe="esor-store:";a((e,t={})=>{let n=t.persist?mt(t.persist):null,r=C(n||e),o=new Set;return t.persist&&I(()=>{let l=a(s=>{if(s.key===oe+t.persist)try{r.set(JSON.parse(s.newValue))}catch(c){$(`Failed to sync state: ${c.message}`)}},"handleStorage");return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)}),[r,{setState(l){let s=typeof l=="function"?l(r()):l;r.set(s),t.persist&&vt(t.persist,s),o.forEach(c=>c(s))},subscribe(l){return o.add(l),()=>o.delete(l)},getState:r}]},"store");function mt(e){try{let t=localStorage.getItem(oe+e);return t?JSON.parse(t):null}catch(t){return $(`Failed to load state: ${t.message}`),null}}a(mt,"loadFromStorage");function vt(e,t){try{localStorage.setItem(oe+e,JSON.stringify(t))}catch(n){$(`Failed to save state: ${n.message}`)}}a(vt,"saveToStorage");ht("my-counter",()=>{const e=C(0);return $e`<div class="card"> <button @click=${()=>e(e()+1)}>Count is: ${e}</button> </div> <style> ${yt} </style>`});const Ut="/assets/esor-CmqOm-n0.svg",zt="/vite.svg";document.querySelector("#app").innerHTML=`
    <div>
      <a href="https://vite.dev" target="_blank">
        <img src="${zt}" class="logo" alt="Vite logo" />
      </a>
      <a href="https://github.com/esorjs/esor" target="_blank">
        <img src="${Ut}" class="logo esor" alt="Esor logo" />
      </a>
      <h1>Vite + Esor</h1>
       <my-counter></my-counter>
      <p class="read-the-docs">
        Click on the Vite and Esor logos to learn more
      </p>
    </div>
`;
