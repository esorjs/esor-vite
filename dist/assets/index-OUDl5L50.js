(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const St=`.card {
  padding: 2em;
}
button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}
`;var ce=Object.defineProperty,fe=e=>{throw TypeError(e)},wt=(e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>ce(e,"name",{value:t,configurable:!0}),Nt=(e,t,n)=>wt(e,t+"",n),de=(e,t,n)=>t.has(e)||fe("Cannot "+n),S=(e,t,n)=>(de(e,t,"read from private field"),n?n.call(e):t.get(e)),ue=(e,t,n)=>t.has(e)?fe("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Tt=(e,t,n)=>(de(e,t,"access private method"),n),y,U,pe,Q=class ge{constructor(){ue(this,U),ue(this,y,new Map),ge.current=this}add(t,n){return Tt(this,U,pe).call(this,t).add(n),()=>{var r;return(r=S(this,y).get(t))==null?void 0:r.delete(n)}}run(t,n){queueMicrotask(()=>{let r=S(this,y).get(t);if(r!=null&&r.size)for(let i of r)try{i.call(n)}catch(l){(typeof n._catchError=="function"?n._catchError:console.error)("Error in lifecycle hook:",l)}})}clear(t){t?S(this,y).delete(t):S(this,y).clear()}};y=new WeakMap,U=new WeakSet,pe=u(function(e){return S(this,y).has(e)||S(this,y).set(e,new Set),S(this,y).get(e)},"#hooks"),u(Q,"Lifecycle"),Nt(Q,"current");var he=Q,xt=u(()=>he.current||(()=>{throw"Lifecycle not initialized"})(),"getLC");u(e=>{let t=e();return t instanceof Function&&xt().add("destroy",t)||(()=>{})},"onEffect");var k={currentComponent:null,batchQueue:new Set,globalEvents:{handlersByType:new Map}},b=k;function O(e,t){let n=k.currentComponent;k.currentComponent=e;try{return t()}finally{k.currentComponent=n}}u(O,"withCurrentComponent");var w=new WeakMap,_t=1;function me(e,t,n){w.has(e)||w.set(e,new Map);let r=w.get(e),i=_t++;return r.set(i,{type:t,handler:n}),i}u(me,"registerEvent");function ve(e,t){var n,r;return(r=(n=w.get(e))==null?void 0:n.get(t))==null?void 0:r.handler}u(ve,"getEventHandler");function At(e,t){let n=w.get(e);n&&(n.delete(t),n.size===0&&w.delete(e))}u(At,"clearEventHandler");function be(e){w.delete(e)}u(be,"clearAllEventHandlers");var ye=u(e=>e==null?"":e.toString().replace(/[&<>'"]/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","/":"&#x2F;"})[t]),"escapeHTML");function Ee(e){return e==null?"":String(e).replace(/^["']|["']$/g,"").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}u(Ee,"cleanAttributeValue");var Se="$:",E="data_esor_event",we="data_esor_bind",Ne="data_esor_ref",Ct=new RegExp(/\s(\w[\w-]*)=(["'])?(?:(?!\2).)*$/),Te=new RegExp(/ref=(["'])?\s*$/),xe=new RegExp(/(@\w+)=(["'])?\s*$/),$t=new RegExp(/["']\s*$/),kt=new RegExp(/^(script|style|textarea|title)$/i);function Z(e,t,n,r){let i=e&&e.charAt(e.length-1)==='"'?'"':"'";return e.replace(t,`${n}=${i}${r}${i}`)}u(Z,"replaceAttribute");var Ft=u(e=>e.replace($t,""),"removeQuote"),Mt=u(e=>{var t;return((t=e==null?void 0:e.template)==null?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE},"isTemplateObject");function _e(e,t,n){let r=b.currentComponent,i=me(r,t,e);return Z(n,xe,`${E}-${t}`,i)}u(_e,"injectEvent");function Ae(e,t,n,r){return r.set(n,e),Z(t,Te,`${Ne}-${n}`,n)}u(Ae,"injectRef");function Ce(e,t,n,r,i){n=Ft(n);let l=n&&n.charAt(n.length-1)==='"'?'"':"'",a=typeof e=="function"?e():e,c=kt.test(t)?String(a):ye(a),p=`${we}-${r}`;return n+=`${l}${c}${l} ${p}=${l}true${l}`,i.set(r,{type:"attribute",signal:e,attributeName:t,bindAttr:p}),n}u(Ce,"injectSignalAttr");function q(e,t,n,r,i){let l=`${Se}${r}`;i.set(r,{type:t?"expression":"text",signal:e,bindAttr:l});let a=t?e():e;return`${n}<!--${l}-->${ye(String(a))}<!--//${l}-->`}u(q,"injectExpr");function z(e,t,n,r,i,l){let a=`${Se}${t}`,c={type:"array",signal:i?()=>(e.__signal()||[]).map(e.__mapFn||(o=>o)):typeof l=="function"?l:()=>e,bindAttr:a};n.set(t,c);let p=(Array.isArray(e)?e:[]).map(T).join("");return`${r}<!--${a}-->${p}<!--//${a}-->`}u(z,"injectArray");function $e(e){let t="";for(let n of e.childNodes)n.nodeType===Node.ELEMENT_NODE&&n.hasAttribute("key")&&(n.setAttribute("data-key",n.getAttribute("key")),n.removeAttribute("key")),t+=n.outerHTML||n.textContent;return t}u($e,"processTemplateNodes");function T(e){return e==null||e===!1?"":Array.isArray(e)?e.reduce((t,n)=>t+T(n),""):e instanceof SVGElement?e.outerHTML:Mt(e)?$e(e.template):(e==null?void 0:e.type)==="template-array"?e.templates.reduce((t,n)=>t+T(n),""):e.toString()}u(T,"processVal");function J(e,...t){let n="",r=new Map,i=new Map,l=0,a=0;for(let p=0;p<e.length;p++){if(n+=e[p],p>=t.length)continue;let o=t[p],s=e[p].match(Ct),f=!!s,g=s==null?void 0:s[1],d=Te.exec(n),h=xe.exec(n),v=d&&typeof o=="function",ae=h&&typeof o=="function",Et=ae?h[1].slice(1):null;v?n=Ae(o,n,a++,i):ae?n=_e(o,Et,n):(o!=null&&o.signal||typeof o=="function")&&f?n=Ce(o,g,n,l++,r):Array.isArray(o)&&o.__signalArray===!0?n=z(o,l++,r,n,!0):o!=null&&o.signal?n=q(o,!1,n,l++,r):typeof o=="function"?n=q(o,!0,n,l++,r):Array.isArray(o)?n=z(o,l++,r,n,!1,o):o!=null&&(n+=T(o))}let c=document.createElement("template");return c.innerHTML=n.trim(),{template:c.content,signals:r,refs:i}}u(J,"processTemplate");var W=new WeakMap;function ke(e,...t){if(t.length===0&&e.raw){if(W.has(e))return W.get(e);let n=J(e,...t);return W.set(e,n),n}return J(e,...t)}u(ke,"html");function Ot(e,t){return!Object.is(e,t)}u(Ot,"valuesChanged");var Dt=u(e=>{var t;return e instanceof DocumentFragment&&e||((t=e==null?void 0:e.content)==null?void 0:t.cloneNode())||document.createDocumentFragment()},"getDocumentFragment");function Fe(e,t){let n=e.nextSibling;for(;n&&n!==t;){let r=n.nextSibling;n.parentNode.removeChild(n),n=r}}u(Fe,"removeChildNodesBetween");var C=new WeakMap;function ee(e,t){if(C.has(e)){let a=C.get(e)[t];if(a)return a}let n=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT),r=null,i=null;for(;n.nextNode()&&!i;){let a=n.currentNode;!r&&a.nodeValue===t?r=a:r&&a.nodeValue===`//${t}`&&(i=a)}let l=[r,i];return C.set(e,{...C.get(e),[t]:l}),l}u(ee,"findCommentPlaceholders");function Me(e){let t=HTMLElement.prototype.hasOwnProperty("attachInternals")?e.attachInternals():null;t!=null&&t.shadowRoot?e.shadowRoot=t.shadowRoot:e.attachShadow({mode:"open"})}u(Me,"setupDeclarativeShadowRoot");function Oe(e,t=[Ne,E,we]){let n={},r=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode(l){if(l.hasAttributes()){for(let{name:a}of l.attributes)if(t.some(c=>a.startsWith(c)))return NodeFilter.FILTER_ACCEPT}return NodeFilter.FILTER_SKIP}}),i;for(;i=r.nextNode();)for(let l of i.attributes){let a=t.find(c=>l.name.startsWith(c));a&&(n[a]||(n[a]=[]),n[a].push(l))}return Object.keys(n).length?n:null}u(Oe,"findAttributesWithEsorDirectives");var Lt=(e=>(e[e.Computed=1]="Computed",e[e.Effect=2]="Effect",e[e.Tracking=4]="Tracking",e[e.Notified=8]="Notified",e[e.Recursed=16]="Recursed",e[e.Dirty=32]="Dirty",e[e.PendingComputed=64]="PendingComputed",e[e.PendingEffect=128]="PendingEffect",e[e.Propagated=224]="Propagated",e))(Lt||{});function De({updateComputed:e,notifyEffect:t}){let n,r;return{link(o,s){let f=s.depsTail;if(f!==void 0&&f.dep===o)return;let g=f!==void 0?f.nextDep:s.deps;if(g!==void 0&&g.dep===o){s.depsTail=g;return}let d=o.subsTail;if(!(d!==void 0&&d.sub===s&&c(d,s)))return i(o,s,g,f)},propagate(o){let s=32,f=o,g=0;e:do{let d=o.sub,h=d.flags;if(!(h&244)&&(d.flags=h|s|8,!0)||h&16&&!(h&4)&&(d.flags=h&-17|s|8,!0)||!(h&224)&&c(o,d)&&(d.flags=h|16|s|8,d.subs!==void 0)){let v=d.subs;if(v!==void 0){v.nextSub!==void 0?(v.prevSub=f,o=f=v,s=64,++g):(o=v,s=h&2?128:64);continue}h&2&&(r!==void 0?r.depsTail.nextDep=d.deps:n=d,r=d)}else h&(4|s)?!(h&s)&&h&224&&c(o,d)&&(d.flags=h|s):(d.flags=h|s|8,(h&10)===2&&(r!==void 0?r.depsTail.nextDep=d.deps:n=d,r=d));if((o=f.nextSub)!==void 0){f=o,s=g?64:32;continue}for(;g;){--g;let v=f.dep.subs;if(f=v.prevSub,v.prevSub=void 0,(o=f.nextSub)!==void 0){f=o,s=g?64:32;continue e}}break}while(!0)},startTracking(o){o.depsTail=void 0,o.flags=o.flags&-249|4},endTracking(o){let s=o.depsTail;if(s!==void 0){let f=s.nextDep;f!==void 0&&(p(f),s.nextDep=void 0)}else o.deps!==void 0&&(p(o.deps),o.deps=void 0);o.flags&=-5},updateDirtyFlag(o,s){return l(o.deps)?(o.flags=s|32,!0):(o.flags=s&-65,!1)},processComputedUpdate(o,s){if((s&32||l(o.deps)||(o.flags=s&-65,!1))&&e(o)){let f=o.subs;f!==void 0&&a(f)}},processPendingInnerEffects(o,s){if(s&128){o.flags=s&-129;let f=o.deps;do{let g=f.dep;"flags"in g&&g.flags&2&&g.flags&224&&t(g),f=f.nextDep}while(f!==void 0)}},processEffectNotifications(){for(;n!==void 0;){let o=n,s=o.depsTail,f=s.nextDep;f!==void 0?(s.nextDep=void 0,n=f.sub):(n=void 0,r=void 0),t(o)||(o.flags&=-9)}}};function i(o,s,f,g){let d={dep:o,sub:s,nextDep:f,prevSub:void 0,nextSub:void 0};if(g===void 0?s.deps=d:g.nextDep=d,o.subs===void 0)o.subs=d;else{let h=o.subsTail;d.prevSub=h,h.nextSub=d}return s.depsTail=d,o.subsTail=d,d}function l(o){let s=0,f;e:do{f=!1;let g=o.dep;if("flags"in g){let d=g.flags;if((d&33)===33){if(e(g)){let h=g.subs;h.nextSub!==void 0&&a(h),f=!0}}else if((d&65)===65){let h=g.subs;h.nextSub!==void 0&&(h.prevSub=o),o=g.deps,++s;continue}}if(!f&&o.nextDep!==void 0){o=o.nextDep;continue}if(s){let d=o.sub;do{--s;let h=d.subs;if(f){if(e(d)){(o=h.prevSub)!==void 0?(h.prevSub=void 0,a(h),d=o.sub):d=h.sub;continue}}else d.flags&=-65;if((o=h.prevSub)!==void 0){if(h.prevSub=void 0,o.nextDep!==void 0){o=o.nextDep;continue e}d=o.sub}else{if((o=h.nextDep)!==void 0)continue e;d=h.sub}f=!1}while(s)}return f}while(!0)}function a(o){do{let s=o.sub,f=s.flags;(f&96)===64&&(s.flags=f|32|8,(f&10)===2&&(r!==void 0?r.depsTail.nextDep=s.deps:n=s,r=s)),o=o.nextSub}while(o!==void 0)}function c(o,s){let f=s.depsTail;if(f!==void 0){let g=s.deps;do{if(g===o)return!0;if(g===f)break;g=g.nextDep}while(g!==void 0)}return!1}function p(o){do{let s=o.dep,f=o.nextDep,g=o.nextSub,d=o.prevSub;if(g!==void 0?g.prevSub=d:s.subsTail=d,d!==void 0?d.nextSub=g:s.subs=g,s.subs===void 0&&"deps"in s){let h=s.flags;h&32||(s.flags=h|32);let v=s.deps;if(v!==void 0){o=v,s.depsTail.nextDep=f,s.deps=void 0,s.depsTail=void 0;continue}}o=f}while(o!==void 0)}}u(De,"createReactiveSystem");var{link:x,propagate:Rt,updateDirtyFlag:Pt,startTracking:D,endTracking:L,processEffectNotifications:Le,processComputedUpdate:It,processPendingInnerEffects:Re}=De({updateComputed(e){let t=m;m=e,D(e);try{let n=e.currentValue,r=e.getter(n);return n!==r?(e.currentValue=r,!0):!1}finally{m=t,L(e)}},notifyEffect(e){return"isScope"in e?Be(e):Ve(e)}}),Pe=[],te=0,m,N;function Ie(){++te}u(Ie,"startBatch");function We(){--te||Le()}u(We,"endBatch");function Wt(){Pe.push(m),m=void 0}u(Wt,"pauseTracking");function Ht(){m=Pe.pop()}u(Ht,"resumeTracking");function G(e){return Ue.bind({currentValue:e,subs:void 0,subsTail:void 0})}u(G,"signal");function Vt(e){return je.bind({currentValue:void 0,subs:void 0,subsTail:void 0,deps:void 0,depsTail:void 0,flags:33,getter:e})}u(Vt,"computed");function R(e){let t={fn:e,subs:void 0,subsTail:void 0,deps:void 0,depsTail:void 0,flags:2};return m!==void 0?x(t,m):N!==void 0&&x(t,N),ne(t),re.bind(t)}u(R,"effect");function Bt(e){let t={deps:void 0,depsTail:void 0,flags:2,isScope:!0};return He(t,e),re.bind(t)}u(Bt,"effectScope");function ne(e){let t=m;m=e,D(e);try{e.fn()}finally{m=t,L(e)}}u(ne,"runEffect");function He(e,t){let n=N;N=e,D(e);try{t()}finally{N=n,L(e)}}u(He,"runEffectScope");function Ve(e){let t=e.flags;return t&32||t&64&&Pt(e,t)?ne(e):Re(e,e.flags),!0}u(Ve,"notifyEffect");function Be(e){return e.flags&128?(Re(e,e.flags),!0):!1}u(Be,"notifyEffectScope");function je(){let e=this.flags;return e&96&&It(this,e),m!==void 0?x(this,m):N!==void 0&&x(this,N),this.currentValue}u(je,"computedGetter");function Ue(...e){if(e.length){if(this.currentValue!==(this.currentValue=e[0])){let t=this.subs;t!==void 0&&(Rt(t),te||Le())}}else return m!==void 0&&x(this,m),this.currentValue}u(Ue,"signalGetterSetter");function re(){D(this),L(this)}u(re,"effectStop");var H=new WeakMap;function F(e,t){if(e&&e.__signalArray===!0)return e;if(H.has(e))return H.get(e);let n=new Proxy(e,{get(r,i,l){let a=Reflect.get(r,i,l);return typeof a=="function"?function(...c){let p=a.apply(r,c);return Array.isArray(p)?(p.__signalArray=!0,p.__signal=t,c.length>0&&typeof c[0]=="function"&&(p.__mapFn=c[0]),F(p,t)):p}:a}});return H.set(e,n),n}u(F,"wrapArray");function A(e){if(Array.isArray(e)){let t=G(e),n=F(e,()=>t());return n.__signalArray=!0,u((...r)=>{if(r.length>0){let i=r[0];return t(i),n=F(i,()=>t()),n.__signalArray=!0,n}return n},"func")}return G(e)}u(A,"signal");function Qe(e){if(b.batchQueue)return e();b.batchQueue=new Set,Ie();try{e(),qe()}finally{We(),b.batchQueue=null}}u(Qe,"batch");function qe(){let e=b.batchQueue;b.batchQueue=null;for(let t of e)t();b.batchQueue.forEach(t=>t()),b.batchQueue.clear()}u(qe,"flushBatch");function ze(e,t,n=[],r=[],i){let l=[...n],a=[...r],c=t.parentNode,p=jt(e,t),o=Ge(a,p,l);l.length===a.length&&l.every((s,f)=>s===a[f])||Qe(()=>{Ye(c,p,o,t),it(i,e,t),e.__oldItems=[...a]})}u(ze,"reconcileArrays");var jt=u((e,t)=>{let n=[];for(let r=e.nextSibling;r&&r!==t;r=r.nextSibling)n.push(r);return n},"collectNodes"),M=u(e=>e&&e.nodeType===Node.ELEMENT_NODE,"isValidDOMNode"),Ut=u(e=>M(e)?e.getAttribute("data-key"):null,"getNodeKey");function Je(e,t,n,r){var c,p;if(!e||!t||!(n!=null&&n.template)||!(r!=null&&r.template))return!1;((c=e.firstChild)==null?void 0:c.nodeType)===3&&e.normalize(),((p=t.firstChild)==null?void 0:p.nodeType)===3&&t.normalize();let i=se(e),l=se(t);if(i.length!==l.length)return!1;let a=!1;for(let o=0,s=i.length;o<s;o++)i[o].textContent!==l[o].textContent&&(i[o].textContent=l[o].textContent,a=!0);return a}u(Je,"updateNodeContent");var se=u(e=>{let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),r;for(;r=n.nextNode();)t.push(r);return t},"getTextNodes");function Ge(e,t,n){let r=new Map,i=new Map,l=[];return t.forEach(a=>{let c=Ut(a);c&&r.set(c,a)}),n.forEach((a,c)=>i.set(X(a,c),a)),e.forEach((a,c)=>l[c]=X(a,c)),e.map((a,c)=>{let p=l[c],o=r.get(p),s=i.get(p);if((o==null?void 0:o.nodeType)===1){if(!s||Ke(s,a)){let f=Y(a,p);return Je(o,f,s,a)?(Xe(o,f),o):f}return o}return Y(a,p)})}u(Ge,"createOrReuseNodes");function Ke(e,t){if(!e||!t)return!0;if(e!=null&&e.template&&(t!=null&&t.template)){let n=K(e),r=K(t);return!_(n,r)}return!_(e,t)}u(Ke,"hasChanged");function K(e){let{template:t}=e;if(!t)return null;let n=[],r=t.cloneNode(!0),i=document.createTreeWalker(r,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode(a){return a.nodeType===3?a.textContent.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),l;for(;l=i.nextNode();)if(l.nodeType===3)n.push(l.textContent);else for(let a=0,c=l.attributes.length;a<c;a++){let p=l.attributes[a].value;p.includes("${")&&n.push(p)}return n}u(K,"extractDynamicValues");function _(e,t){if(e===t)return!0;if(!e||!t||typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((n,r)=>_(n,t[r]));if(typeof e=="object"){let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(i=>_(e[i],t[i]))}return String(e)===String(t)}u(_,"areValuesEqual");function Xe(e,t){if(!(!M(e)||!M(t)))for(let n=e.attributes.length-1;n>=0;n--){let r=e.attributes[n];r.name.startsWith(E)&&t.setAttribute(r.name,r.value)}}u(Xe,"copyEventAttributes");function X(e,t){if(e&&typeof e=="object"){if("key"in e)return`key-${e.key}`;if(e.id)return`item-${e.id}`;if(e.template){let n=e.template.firstElementChild;return n&&n.hasAttribute("key")?n.getAttribute("key"):`template-${t}`}try{return`item-${t}-${JSON.stringify(e)}`}catch{return`item-${t}`}}return`item-${t}-${String(e)}`}u(X,"getItemKey");function Y(e,t){let n;return e!=null&&e.template?n=e.template.cloneNode(!0).firstElementChild||document.createElement("div"):(n=document.createElement("div"),n.textContent=String(e)),M(n)&&n.setAttribute("data-key",t),n}u(Y,"createNode");u((e,t,n)=>e.insertBefore(t,n),"moveBefore");function Ye(e,t,n,r){let i=0,l=t.length,a=0,c=n.length,p=l>0?t[l-1].nextSibling:r,o=null;if(!l){for(let s=0;s<c;s++)e.insertBefore(n[s],p);return}if(!c){for(;i<l;)e.removeChild(t[i++]);return}for(;i<l||a<c;){if(t[i]===n[a]){i++,a++;continue}for(;t[l-1]===n[c-1];)l--,c--;if(i===l){let s=c<n.length?a?n[a-1].nextSibling:n[c-a]:p;for(;a<c;)e.insertBefore(n[a++],s)}else if(a===c)for(;i<l;)(!o||!o.has(t[i]))&&e.removeChild(t[i]),i++;else if(t[i]===n[c-1]&&n[a]===t[l-1]){let s=t[--l].nextSibling;e.insertBefore(n[a++],t[i++].nextSibling),e.insertBefore(n[--c],s),t[l]=n[c]}else{if(!o){o=new Map;for(let f=a;f<c;f++)o.set(n[f],f)}let s=o.get(t[i]);if(s==null)e.removeChild(t[i++]);else if(a<s&&s<c){let f=1;for(;i+f<l&&s+f<c&&t[i+f]===n[s+f];)f++;if(f>s-a){let g=t[i];for(;a<s;)e.insertBefore(n[a++],g)}else e.replaceChild(n[a++],t[i++])}else i++}}}u(Ye,"ddiff");function Ze(e,t){let n=e==null?void 0:e.shadowRoot;if(!n)return;let r=new Set;for(let i of t){let l=i.name.replace(`${E}-`,"");l&&r.add(l)}for(let i of r){let l=u(a=>{let c=a.target;if(c.hasAttribute(`${E}-${i}`)){let p=Number(c.getAttribute(`${E}-${i}`)),o=ve(e,p);typeof o=="function"&&O(e,()=>{o.call(e,a)})}},"listener");n.addEventListener(i,l,{passive:!1,capture:!0}),e._eventHandlers=e._eventHandlers||new Map,e._eventHandlers.set(i,l)}}u(Ze,"setupEventDelegation");function et(e,t){if(!(!e||!t))for(let n of e){let r=n.ownerElement;if(!r)continue;let i=Number(n.value);r.removeAttribute(n.name);let l=t.get(i);typeof l=="function"&&l(r)}}u(et,"setupRefs");function P(e,t,n){let r=R(()=>{if(!e._isUpdating){e._isUpdating=!0;try{n(t())}finally{e._isUpdating=!1}}});e._cleanup.add(r)}u(P,"bindSignalToElement");function tt(e,t){if(!(!t||t.size===0))for(let{type:n,signal:r,bindAttr:i,attributeName:l}of t.values())switch(n){case"attribute":nt(e,r,i,l);break;case"array":rt(e,r,i);break;case"text":case"expression":ft({host:e,type:n,signal:r,bindAttr:i});break}}u(tt,"setupSignals");function nt(e,t,n,r){let i=e.shadowRoot.querySelector(`[${n}]`);i&&(i.removeAttribute(n),P(e,t,l=>{let a=String(l);i.getAttribute(r)!==a&&i.setAttribute(r,a)}))}u(nt,"handleAttributeSignal");function rt(e,t,n){let[r,i]=ee(e.shadowRoot,n);!r||!i||P(e,t,l=>{let a=r.__oldItems||[],c=Array.isArray(l)?l:[];ze(r,i,a,c,e)})}u(rt,"handleArraySignal");function it(e,t,n){let{shadowRoot:r}=e,i=lt(r,t,n);ot(e,i)}u(it,"bindEventsInRange");function ot(e,t){var n;for(let r of t)for(let i of Array.from(r.attributes)){if(!i.name.startsWith(`${E}`))continue;let l=i.name.replace(E,""),a=parseInt(i.value,10),c=(n=b.globalEvents.handlersByType.get(l))==null?void 0:n.get(a);typeof c=="function"&&(r.addEventListener(l,(...p)=>O(e,()=>c.call(e,...p))),r.removeAttribute(i.name))}}u(ot,"bindEvents");function lt(e,t,n){let r=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);if(!t&&!n){for(;i.nextNode();)r.push(i.currentNode);return r}let l=(t==null?void 0:t.nextSibling)||e.firstChild;if(!l)return r;i.currentNode=l;do{if(i.currentNode===n)break;r.push(i.currentNode)}while(i.nextNode());return r}u(lt,"getElementsInRange");var V=new Map;function at(e,t){let n=Dt(t);return V.has(e)||V.set(e,n.cloneNode(!0)),V.get(e).cloneNode(!0)}u(at,"cachedTemplate");var B=new WeakMap;function ut(e){if(B.has(e))return B.get(e);try{let t=e()??null;return B.set(e,t),t}catch{return null}}u(ut,"evalExpr");function st(e,t,n,r){let i=t.nextSibling;if(i&&i.nodeType===Node.TEXT_NODE)i.textContent=String(r);else{Fe(t,n);let l=document.createTextNode(String(r));n.parentNode.insertBefore(l,n)}}u(st,"renderEvaluated");function ct(e,{signal:t,bindAttr:n,renderer:r}){let[i,l]=ee(e.shadowRoot,n);!i||!l||P(e,t,a=>{r(i,l,a)})}u(ct,"bindPlaceholderSignal");function ft({host:e,type:t,signal:n,bindAttr:r}){ct(e,{signal:n,bindAttr:r,renderer:u((i,l,a)=>{let c=t==="expression"?ut(()=>a):a;c!=null&&st(e,i,l,c)},"renderer")})}u(ft,"handleSignalBinding");var dt=u(e=>e&&!/^(data_esor_|@|ref|key$)/.test(e)&&/^[a-z][\w\-_:]*$/i.test(e),"specialAttr"),$;function pt(e){return $||($=document.createElement("textarea")),$.innerHTML=e,$.value}u(pt,"decodeHTMLEntities");function ie(e){if(typeof e!="string")return e;e.indexOf("&")!==-1&&(e=pt(e));let t=e.trim();if(!t)return t;let n=t.toLowerCase(),r={true:!0,false:!1,null:null,undefined:void 0,nan:NaN,infinity:1/0,"-infinity":-1/0};if(n in r)return r[n];let i=Number(t);if(!Number.isNaN(i))return i;try{return JSON.parse(t)}catch{return t}}u(ie,"coerceAttrValue");function gt(e){for(let{name:t,value:n}of e.attributes){if(!dt(t))continue;let r=ie(Ee(n));e._props[t]=A(r)}}u(gt,"generateSpecialAttrSignals");function ht(e){let t=u(r=>{for(let{attributeName:i}of r){if(!dt(i))continue;let l=e._props[i];l&&l(ie(e.getAttribute(i)))}},"handler"),n=new MutationObserver(t);n.observe(e,{attributes:!0}),e._cleanup.add(()=>n.disconnect())}u(ht,"observeAttrMutations");function mt(e){gt(e),ht(e)}u(mt,"initPropsAndObserve");function vt(e,t){let n=class extends HTMLElement{constructor(){super(),Me(this),this._initEsorComponent(this),this._render()}_initEsorComponent(l){Object.assign(l,{_cleanup:new Set,_isUpdating:!1,_props:{},_eventIds:[],lifecycle:new he}),b.currentComponent=l,mt(l),l.lifecycle.run("beforeMount",l)}connectedCallback(){this.lifecycle.run("mount",this)}disconnectedCallback(){this.lifecycle.run("destroy",this),this._cleanup.forEach(l=>l()),this._cleanup.clear(),be(this)}_render(){O(this,()=>{this.lifecycle.run("beforeUpdate",this);let l=t.call(this,this._props),{template:a,signals:c,refs:p}=typeof l=="function"?l():l||{};this.shadowRoot.hasChildNodes()||this.shadowRoot.appendChild(at(e,a));let o=Oe(this.shadowRoot);o&&(o.data_esor_ref&&et(o.data_esor_ref,p),o.data_esor_event&&Ze(this,o.data_esor_event)),tt(this,c),this.lifecycle.run("update",this)})}};u(n,"EsorComponent");let r=n;return customElements.define(e,r),r}u(vt,"component");function Qt(e=null){let t=e;return new Proxy(()=>{},{apply:u((n,r,i)=>i.length?t=i[0]:t,"apply"),get:u((n,r)=>t&&(t[r]===void 0?t:t[r]),"get"),set:u((n,r,i)=>!!t&&(t[r]=i,!0),"set")})}u(Qt,"ref");function qt(e,t=[]){let n=A(e());return R(()=>(n(e()),t)),n}u(qt,"memo");var j={info:{color:"#0066cc",icon:"ℹ️"},warn:{color:"#FFA500",icon:"⚠️"},error:{color:"#FF0000",icon:"🚫"}},oe=u((e="info",t="",...n)=>{var i,l;j[e]||(e="info");let r=e.charAt(0).toUpperCase()+e.slice(1);console.groupCollapsed(`%c[ESOR ${j[e].icon}${r}] ${t}`,`color: ${j[e].color}; font-weight: bold;`),console[e]({message:t,component:((l=(i=b.currentComponent)==null?void 0:i.constructor)==null?void 0:l.name)||"Unknown",time:new Date().toISOString(),data:n.length?n:void 0}),console[e==="error"?"trace":"debug"](),console.groupEnd()},"log");u((...e)=>oe("info",...e),"info");u((...e)=>oe("warn",...e),"warn");var I=u((...e)=>oe("error",...e),"error");function zt(e,t){let n=b.currentComponent;if(!n)return I("useEmit must be used within a component"),null;let r=new CustomEvent(e,{detail:t,bubbles:!0,composed:!0,cancelable:!0});return r.__esor={name:e,detail:t,receivedBy:[],timestamp:Date.now()},n.dispatchEvent(r),r}u(zt,"useEmit");var le="esor-store:";u((e,t={})=>{let n=t.persist?bt(t.persist):null,r=A(n||e),i=new Set;return t.persist&&R(()=>{let l=u(a=>{if(a.key===le+t.persist)try{r.set(JSON.parse(a.newValue))}catch(c){I(`Failed to sync state: ${c.message}`)}},"handleStorage");return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)}),[r,{setState(l){let a=typeof l=="function"?l(r()):l;r.set(a),t.persist&&yt(t.persist,a),i.forEach(c=>c(a))},subscribe(l){return i.add(l),()=>i.delete(l)},getState:r}]},"store");function bt(e){try{let t=localStorage.getItem(le+e);return t?JSON.parse(t):null}catch(t){return I(`Failed to load state: ${t.message}`),null}}u(bt,"loadFromStorage");function yt(e,t){try{localStorage.setItem(le+e,JSON.stringify(t))}catch(n){I(`Failed to save state: ${n.message}`)}}u(yt,"saveToStorage");vt("my-counter",()=>{const e=A(0);return ke`<div class="card"> <button @click=${()=>e(e()+1)}>Count is: ${e}</button> </div> <style> ${St} </style>`});const Jt="/assets/esor-CmqOm-n0.svg",Gt="/vite.svg";document.querySelector("#app").innerHTML=`
    <div>
      <a href="https://vite.dev" target="_blank">
        <img src="${Gt}" class="logo" alt="Vite logo" />
      </a>
      <a href="https://github.com/esorjs/esor" target="_blank">
        <img src="${Jt}" class="logo esor" alt="Esor logo" />
      </a>
      <h1>Vite + Esor</h1>
       <my-counter></my-counter>
      <p class="read-the-docs">
        Click on the Vite and Esor logos to learn more
      </p>
    </div>
`;
